<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Spark Ad Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #050816;
      --bg-soft: #0b1120;
      --bg-softer: #111827;
      --accent: #38bdf8;
      --accent-soft: rgba(56,189,248,0.18);
      --danger: #f97373;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --border: #1f2937;
      --radius: 10px;
      --shadow-soft: 0 18px 45px rgba(0,0,0,0.4);
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    /* PLAN TEMALI RENKLER */

    body.plan-free {
      --accent: #38bdf8;
      --accent-soft: rgba(56,189,248,0.18);
    }
    body.plan-starter {
      --accent: #38bdf8;
      --accent-soft: rgba(56,189,248,0.22);
    }
    body.plan-pro {
      --accent: #a855f7;
      --accent-soft: rgba(168,85,247,0.26);
    }
    body.plan-influencer {
      --accent: #fbbf24;
      --accent-soft: rgba(251,191,36,0.26);
    }
    body.plan-admin {
      --accent: #22c55e;
      --accent-soft: rgba(34,197,94,0.26);
    }

    *{box-sizing:border-box;}

    body{
      margin:0;
      font-family:var(--font-sans);
      background:radial-gradient(circle at top,#111827 0,#020617 55%);
      color:var(--text);
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:stretch;
    }

    #app{
      width:100%;
      max-width:1200px;
      margin:16px;
      background:linear-gradient(145deg,#020617 0%,#020715 40%,#020617 100%);
      border-radius:18px;
      box-shadow:var(--shadow-soft);
      border:1px solid #111827;
      display:flex;
      flex-direction:column;
      overflow:hidden;
    }

    /* TOPBAR */
    .topbar{
      display:flex;
      align-items:center;
      padding:12px 18px;
      border-bottom:1px solid #111827;
      background:radial-gradient(circle at 0 50%,#0b1120 0,#020617 55%);
      gap:10px;
      flex-wrap:wrap;
      position:relative;
    }

    /* Renk seÃ§ici (color picker) */
    .color-picker-wrap{position:relative;display:inline-block;}
    .color-menu{
      position:absolute;
      right:0;
      top:calc(100% + 8px);
      background:#020617;
      border:1px solid #111827;
      border-radius:10px;
      padding:10px;
      min-width:180px;
      box-shadow:0 12px 32px rgba(0,0,0,0.5);
      z-index:40;
    }
    .color-menu .swatches{display:flex;gap:8px;flex-wrap:wrap;align-items:center;}
    .swatch{width:28px;height:28px;border-radius:6px;border:1px solid #111827;cursor:pointer;box-shadow:inset 0 0 0 2px rgba(0,0,0,0.12);}
    .swatch:focus{outline:2px solid rgba(255,255,255,0.06);}
    .custom-color input[type="color"]{background:transparent;border:none;padding:0;width:34px;height:28px;border-radius:6px;cursor:pointer;}

    .logo{
      width:36px;
      height:36px;
      border-radius:999px;
      background:#020617;
      background-image:url('sparkad-logo.png'); /* logonun adÄ± bu olsun */
      background-size:cover;
      background-position:center;
      box-shadow:0 0 18px rgba(249,115,22,0.5);
      flex-shrink:0;
    }

    .top-left{
      display:flex;
      flex-direction:column;
      margin-right:auto;
    }

    .top-title{
      font-weight:650;
      letter-spacing:0.03em;
      font-size:18px;
    }

    .top-tagline{
      font-size:12px;
      color:var(--muted);
    }

    .top-nav{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
    }

    .nav-btn{
      border:1px solid transparent;
      background:transparent;
      color:var(--muted);
      padding:6px 10px;
      border-radius:999px;
      font-size:13px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:4px;
      transition:0.2s all;
    }
    .nav-btn:hover{
      background:#020617;
      border-color:#1f2937;
      color:var(--text);
    }
    .nav-btn.primary{
      background:var(--accent-soft);
      border-color:var(--accent);
      color:#e0f2fe;
      font-weight:600;
    }
    .nav-btn.primary:hover{
      background:rgba(56,189,248,0.28);
      box-shadow:0 0 16px rgba(56,189,248,0.35);
    }
    .nav-btn.danger{
      border-color:#4b1b1b;
      color:#fecaca;
      background:rgba(220,38,38,0.08);
    }
    .nav-btn.danger:hover{
      background:rgba(220,38,38,0.16);
    }

    main{
      flex:1;
      padding:14px;
      overflow:auto;
    }

    .screen{display:none;width:100%;}
    .screen.active{display:block;}

    .card{
      background:radial-gradient(circle at top left,#020617 0,#020617 45%);
      border-radius:16px;
      padding:16px;
      border:1px solid #111827;
      box-shadow:0 12px 32px rgba(0,0,0,0.45);
    }

    .info-layout{
      display:grid;
      grid-template-columns:minmax(0,1.6fr) minmax(0,1.2fr);
      gap:16px;
      align-items:stretch;
    }

    .info-title{
      font-size:24px;
      font-weight:700;
      margin-bottom:6px;
    }

    .info-sub{
      font-size:14px;
      color:var(--muted);
      margin-bottom:12px;
    }

    .pill-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-bottom:12px;
    }
    .pill{
      font-size:11px;
      padding:4px 8px;
      border-radius:999px;
      background:#020617;
      border:1px solid #1f2937;
      color:var(--muted);
    }
    .pill.strong{
      border-color:var(--accent);
      color:#e0f2fe;
      background:#0b1120;
    }

    .btn-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;}
    .btn-big{
      padding:9px 14px;
      border-radius:999px;
      border:1px solid transparent;
      font-size:14px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      font-weight:500;
      transition:0.2s;
    }
    .btn-big.primary{
      background:linear-gradient(135deg,#0ea5e9,#22c55e);
      color:#020617;
      box-shadow:0 18px 32px rgba(56,189,248,0.45);
    }
    .btn-big.primary:hover{filter:brightness(1.05);}
    .btn-big.ghost{
      background:#020617;
      border-color:#1f2937;
      color:var(--muted);
    }

    .hint{font-size:11px;color:var(--muted);margin-top:6px;}

    /* AUTH */
    .auth-layout{max-width:600px;margin:0 auto;}
    .tabs{display:flex;gap:6px;margin-bottom:10px;}
    .tab-btn{
      flex:1;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid #1f2937;
      background:#020617;
      font-size:13px;
      color:var(--muted);
      cursor:pointer;
      transition:0.2s;
    }
    .tab-btn.active{
      background:var(--accent-soft);
      border-color:var(--accent);
      color:#e0f2fe;
      font-weight:600;
    }

    .form-grid{display:grid;gap:8px;margin-top:8px;}
    label{
      font-size:12px;
      color:var(--muted);
      display:block;
      margin-bottom:2px;
    }

    input,textarea,select{
      width:100%;
      border-radius:8px;
      border:1px solid #1f2937;
      background:#020617;
      color:var(--text);
      padding:7px 9px;
      font-size:13px;
      outline:none;
      transition:.15s border-color,.15s box-shadow,.15s background;
    }
    input:focus,textarea:focus,select:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(56,189,248,0.25);
      background:#020819;
    }
    textarea{min-height:80px;resize:vertical;}

    .form-actions{
      display:flex;
      justify-content:flex-end;
      gap:8px;
      margin-top:8px;
      flex-wrap:wrap;
    }
    .btn-sm{
      padding:6px 11px;
      border-radius:999px;
      border:1px solid #1f2937;
      background:#020617;
      font-size:12px;
      color:var(--muted);
      cursor:pointer;
      transition:0.2s;
    }
    .btn-sm.primary{
      border-color:var(--accent);
      background:var(--accent-soft);
      color:#e0f2fe;
    }

    .section-title{font-size:15px;font-weight:600;margin-bottom:6px;}
    .section-sub{font-size:12px;color:var(--muted);margin-bottom:8px;}

    .columns-2{
      display:grid;
      grid-template-columns:minmax(0,1.5fr) minmax(0,1.2fr);
      gap:12px;
    }

    .tag{
      font-size:10px;
      padding:2px 6px;
      border-radius:999px;
      border:1px solid #1f2937;
      background:#020617;
      color:var(--muted);
    }
    .tag.standard{border-color:#38bdf8;color:#bae6fd;}
    .tag.pro{border-color:#a855f7;color:#e9d5ff;}
    .tag.influencer{border-color:#fbbf24;color:#fef9c3;}
    .tag.admin{border-color:#22c55e;color:#bbf7d0;}

    .user-inline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      margin-bottom:8px;
      flex-wrap:wrap;
    }

    /* CHAT */
    .chat-box{
      border-radius:12px;
      border:1px solid #1f2937;
      background:#020617;
      display:flex;
      flex-direction:column;
      height:250px;
      overflow:hidden;
    }
    .chat-log{
      flex:1;
      padding:8px;
      overflow-y:auto;
      font-size:12px;
    }
    .chat-line{
      margin-bottom:6px;
      display:flex;
      gap:6px;
    }
    .chat-line.me{justify-content:flex-end;}
    .chat-bubble{
      max-width:80%;
      border-radius:12px;
      border-bottom-left-radius:4px;
      padding:6px 9px;
      border:1px solid #1f2937;
      background:#020617;
    }
    .chat-line.me .chat-bubble{
      background:rgba(56,189,248,0.16);
      border-color:rgba(56,189,248,0.6);
    }
    .chat-line.ai .chat-bubble{
      background:rgba(15,23,42,0.96);
    }
    .chat-meta{font-size:10px;color:var(--muted);margin-bottom:2px;}
    .chat-input-row{
      display:flex;
      border-top:1px solid #111827;
    }
    .chat-input-row input{
      border-radius:0;
      border:none;
      border-right:1px solid #111827;
    }
    .chat-input-row button{
      border:none;
      background:var(--accent-soft);
      color:#e0f2fe;
      padding:0 14px;
      font-size:12px;
      cursor:pointer;
    }

    /* LISTS */
    .list{max-height:240px;overflow-y:auto;font-size:12px;}
    .list-item{
      padding:7px 8px;
      border-radius:9px;
      border:1px solid #111827;
      background:rgba(15,23,42,0.9);
      margin-bottom:6px;
    }
    .label-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:6px;
      margin-bottom:3px;
    }
    .list-meta{font-size:10px;color:var(--muted);}
    .pill-small{
      font-size:9px;
      padding:1px 5px;
      border-radius:999px;
      border:1px solid #4b5563;
      color:#9ca3af;
    }
    .pill-small.green{border-color:#22c55e;color:#bbf7d0;}
    .pill-small.blue{border-color:#38bdf8;color:#bae6fd;}
    .pill-small.orange{border-color:#f97316;color:#fed7aa;}
    .pill-small.gold{border-color:#fbbf24;color:#fef9c3;}
    .pill-small.gray{border-color:#4b5563;color:#9ca3af;}

    .admin-actions{display:flex;gap:6px;margin-top:4px;flex-wrap:wrap;}
    .admin-actions button{
      font-size:11px;
      padding:3px 7px;
      border-radius:999px;
      border:1px solid #1f2937;
      background:#020617;
      color:#9ca3af;
      cursor:pointer;
    }

    .pricing-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
      gap:10px;
    }
    .price-card{
      border-radius:14px;
      padding:11px;
      border:1px solid #1f2937;
      background:#020617;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .price-name{font-size:14px;font-weight:600;margin-bottom:3px;}
    .price-tag{font-size:11px;color:var(--muted);margin-bottom:6px;}
    .price-value{font-size:18px;font-weight:700;margin-bottom:2px;}
    .price-note{font-size:10px;color:var(--muted);margin-bottom:6px;}

    .avatar-circle{
      width:52px;
      height:52px;
      border-radius:999px;
      background:radial-gradient(circle at 30% 0,#22c55e,#38bdf8);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:20px;
      color:#020617;
    }
    .profile-row{
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom:10px;
      position:relative;
      z-index:2;
    }

    /* PROFÄ°L KARTI ANÄ°MASYONLU Ã‡ERÃ‡EVE */

    #profile-card{
      position:relative;
      overflow:hidden;
      border-radius:18px;
      z-index:1;
    }
    #profile-card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:linear-gradient(130deg,#38bdf8,#0ea5e9);
      opacity:0;
      z-index:-1;
    }
    #profile-card.profile-starter::before{
      opacity:0.7;
    }
    #profile-card.profile-pro::before{
      opacity:0.9;
      background:linear-gradient(130deg,#a855f7,#38bdf8);
    }
    #profile-card.profile-influencer::before{
      opacity:1;
      background:conic-gradient(from 0deg,#fbbf24,#f97316,#fb7185,#fbbf24);
      animation:spin-gold 6s linear infinite;
    }

    @keyframes spin-gold{
      from{transform:rotate(0deg);}
      to{transform:rotate(360deg);}
    }

    #profile-card > *{
      position:relative;
      z-index:2;
    }

    @media(max-width:900px){
      #app{margin:8px;}
      main{padding:10px;}
      .info-layout,.columns-2{
        grid-template-columns:minmax(0,1fr);
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <header class="topbar">
      <div class="logo"></div>
      <div class="top-left">
        <div class="top-title">Spark Ad Studio</div>
        <div class="top-tagline">KulÃ¼pler ve markalar iÃ§in mini reklam stÃ¼dyosu</div>
      </div>
      <nav class="top-nav">
        <button class="nav-btn" data-nav="info" id="nav-info">Bilgi</button>
        <button class="nav-btn" data-nav="home" id="nav-home">Ana Sayfa</button>
        <button class="nav-btn" data-nav="studio" id="nav-studio" style="display:none;">StÃ¼dyo</button>
        <button class="nav-btn" data-nav="community" id="nav-community" style="display:none;">Topluluk</button>
        <button class="nav-btn" data-nav="assistant" id="nav-assistant" style="display:none;">Asistan</button>
        <button class="nav-btn" data-nav="pricing" id="nav-pricing">FiyatlandÄ±rma</button>
        <button class="nav-btn" data-nav="profile" id="nav-profile" style="display:none;">Profil</button>
        <button class="nav-btn" data-nav="settings" id="nav-settings" style="display:none;">Ayarlar</button>
        <button class="nav-btn danger" id="btn-logout" style="display:none;">Ã‡Ä±kÄ±ÅŸ</button>

        <div class="color-picker-wrap" style="display:inline-flex;">
          <button class="nav-btn" id="btn-colors" aria-haspopup="true" aria-expanded="false">Renkler â–¾</button>
          <div id="color-menu" class="color-menu" style="display:none;">
            <div class="swatches" role="list">
              <button class="swatch" data-theme="free" title="Mavi" style="background:#38bdf8;" aria-label="Mavi"></button>
              <button class="swatch" data-theme="pro" title="Mor" style="background:#a855f7;" aria-label="Mor"></button>
              <button class="swatch" data-theme="influencer" title="SarÄ±" style="background:#fbbf24;" aria-label="SarÄ±"></button>
              <button class="swatch" data-theme="admin" title="YeÅŸil" style="background:#22c55e;" aria-label="YeÅŸil"></button>
              <button class="swatch" data-theme="custom-red" title="KÄ±rmÄ±zÄ±" style="background:#ef4444;" aria-label="KÄ±rmÄ±zÄ±"></button>
              <label class="custom-color" title="Ã–zel renk">
                <input id="customAccentPicker" type="color" value="#38bdf8" />
              </label>
            </div>
          </div>
        </div>

        <button class="nav-btn primary" id="btn-auth">Ãœye Ol / GiriÅŸ Yap</button>
      </nav>
    </header>

    <main>
      <!-- BÄ°LGÄ° EKRANI -->
      <section id="screen-info" class="screen active">
        <div class="info-layout">
          <div class="card">
            <div class="badge" style="display:inline-flex;gap:4px;padding:2px 8px;border-radius:999px;border:1px solid #1f2937;font-size:10px;color:var(--muted);">
              <span style="width:6px;height:6px;border-radius:999px;background:#22c55e;"></span>
              7. sÄ±nÄ±ftan kulÃ¼plere kadar mini ajans fikri
            </div>
            <h1 class="info-title">Spark Ad Studio ile kulÃ¼bÃ¼n reklamlarÄ±nÄ± hÄ±zlÄ±ca planla.</h1>
            <p class="info-sub">
              KÄ±sa, akÄ±lda kalÄ±cÄ± videolar iÃ§in sahne akÄ±ÅŸÄ±nÄ±, sloganÄ± ve metni birlikte dÃ¼ÅŸÃ¼nmen iÃ§in
              tasarlanmÄ±ÅŸ basit bir panel. KulÃ¼bÃ¼nÃ¼n adÄ±, kampanya konusu ve hedef kitleni yazman yeterli.
            </p>
            <div class="pill-row">
              <span class="pill strong">KulÃ¼pler â€¢ Okullar â€¢ Markalar</span>
              <span class="pill">Reklam isteÄŸi formu</span>
              <span class="pill">Yapay zekÃ¢ asistanÄ±</span>
              <span class="pill">Paketli abonelik</span>
            </div>
            <div class="btn-row">
              <button class="btn-big primary" id="btn-info-start">Hemen BaÅŸla</button>
              <button class="btn-big ghost" id="btn-info-pricing">Paketlere Bak</button>
            </div>
            <p class="hint">
              YÃ¶netici (sen ğŸ˜„) pakete gÃ¶re renkleri ve fiyatlarÄ± deÄŸiÅŸtirebilir. Normal kullanÄ±cÄ±lar
              â€œyÃ¶neticiâ€ kelimesini hiÃ§ gÃ¶rmez, sadece sen gÃ¶rÃ¼rsÃ¼n.
            </p>
          </div>
          <div class="card">
            <div class="section-title">Ã–rnek yÄ±llÄ±k kulÃ¼p Ã¶zeti</div>
            <div class="section-sub">
              Spark Ad Studio, girdiÄŸin verilerle â€œstoryâ€ tadÄ±nda yÄ±llÄ±k Ã¶zet videolar hazÄ±rlamana yardÄ±m eder.
            </div>
            <ul class="hint" style="list-style:disc;padding-left:18px;">
              <li>KatÄ±ldÄ±ÄŸÄ± yarÄ±ÅŸma sayÄ±sÄ±</li>
              <li>Toplam kilometre (gidiÅŸâ€“dÃ¶nÃ¼ÅŸ)</li>
              <li>KazanÄ±lan madalyalar</li>
              <li>Sosyal medya etkileÅŸim artÄ±ÅŸÄ±</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- ANA SAYFA -->
      <section id="screen-home" class="screen">
        <div class="card">
          <div class="section-title" id="home-title">Spark Ad Studio</div>
          <div class="section-sub" id="home-sub">
            GiriÅŸ yaptÄ±ktan sonra paket durumun ve aktivitelerin Ã¶zeti burada gÃ¶rÃ¼necek.
          </div>
          <ul id="home-summary" class="hint" style="list-style:disc;padding-left:18px;"></ul>
        </div>
      </section>

      <!-- AUTH -->
      <section id="screen-auth" class="screen">
        <div class="card auth-layout">
          <div class="section-title">HesabÄ±na giriÅŸ yap</div>
          <div class="section-sub">
            StÃ¼dyoyu kullanmak iÃ§in giriÅŸ yap veya yeni hesap oluÅŸtur. YÃ¶netici giriÅŸi sadece senin bildiÄŸin
            e-posta/ÅŸifre kombinasyonu ile Ã§alÄ±ÅŸÄ±r.
          </div>

          <div class="tabs">
            <button class="tab-btn active" id="tab-login">GiriÅŸ Yap</button>
            <button class="tab-btn" id="tab-register">Ãœye Ol</button>
          </div>

          <div id="auth-login">
            <div class="form-grid">
              <div>
                <label for="login-email">E-posta</label>
                <input id="login-email" type="email" placeholder="ornek@kulubun.com" />
              </div>
              <div>
                <label for="login-pass">Åifre</label>
                <input id="login-pass" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
              </div>
            </div>
            <div class="form-actions">
              <button class="btn-sm" id="btn-forgot">Åifremi unuttum</button>
              <button class="btn-sm primary" id="btn-login">GiriÅŸ Yap</button>
            </div>
            <p class="hint" id="auth-message"></p>
          </div>

          <div id="auth-register" style="display:none;">
            <div class="form-grid">
              <div>
                <label for="reg-name">Ad Soyad</label>
                <input id="reg-name" placeholder="Emir Anka" />
              </div>
              <div>
                <label for="reg-email">E-posta</label>
                <input id="reg-email" type="email" placeholder="ornek@kulubun.com" />
              </div>
              <div>
                <label for="reg-pass">Åifre</label>
                <input id="reg-pass" type="password" placeholder="En az 6 karakter" />
              </div>
            </div>
            <div class="form-actions">
              <button class="btn-sm" id="btn-to-login">Zaten hesabÄ±m var</button>
              <button class="btn-sm primary" id="btn-register">Ãœye Ol ve GiriÅŸ Yap</button>
            </div>
            <p class="hint">
              Yeni hesaplar varsayÄ±lan olarak <b>Starter</b> paketi ile aÃ§Ä±lÄ±r. YÃ¶netici isterse seni
              Pro veya Influencer yapar.
            </p>
          </div>
        </div>
      </section>

      <!-- KULLANICI STÃœDYO -->
      <section id="screen-user" class="screen">
        <div class="columns-2">
          <div class="card">
            <div class="user-inline">
              <div>
                <div class="section-title" id="user-welcome">HoÅŸ geldin!</div>
                <div class="section-sub">
                  KulÃ¼bÃ¼n iÃ§in reklam isteÄŸi bÄ±rak, yÃ¶netici onaylasÄ±n, sonra bu fikirleri videoya dÃ¶nÃ¼ÅŸtÃ¼r.
                </div>
              </div>
              <span class="tag standard" id="user-plan-badge">Starter Ãœye</span>
            </div>
            <div class="section-title">Reklam Ä°steÄŸi OluÅŸtur</div>
            <div class="section-sub">
              KulÃ¼p / marka adÄ±, Ã¼rÃ¼n / kampanya ve kÄ±sa aÃ§Ä±klama gir. Ä°stek â€œYÃ¶neticiâ€ paneline dÃ¼ÅŸer.
            </div>
            <div class="form-grid">
              <div>
                <label for="req-brand">Marka / KulÃ¼p AdÄ±</label>
                <input id="req-brand" placeholder="IÅŸÄ±kkent OkÃ§uluk KulÃ¼bÃ¼" />
              </div>
              <div>
                <label for="req-product">ÃœrÃ¼n / Kampanya</label>
                <input id="req-product" placeholder="Yeni sezon forma tanÄ±tÄ±mÄ±" />
              </div>
              <div>
                <label for="req-details">KÄ±sa AÃ§Ä±klama</label>
                <textarea id="req-details" placeholder="Hedef kitle, ton, sÃ¼re vb."></textarea>
              </div>
            </div>
            <div class="form-actions">
              <button class="btn-sm primary" id="btn-send-request">Ä°stek GÃ¶nder</button>
            </div>
            <p class="hint" id="req-hint"></p>
          </div>

          <div class="card">
            <div class="section-title">Spark AI Asistan</div>
            <div class="section-sub">
              KulÃ¼bÃ¼nle ilgili reklam fikirleri sor. Ã–rn:
              <em>â€œOkÃ§uluk kulÃ¼bÃ¼m iÃ§in 15 sn Reels fikri Ã¶ner.â€</em>
            </div>
            <div class="chat-box">
              <div id="chat-log" class="chat-log"></div>
              <div class="chat-input-row">
                <input id="assistant-input" placeholder="Sorunu yaz..." />
                <button id="assistant-send">GÃ¶nder</button>
              </div>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:10px;">
          <div class="section-title">Paketine gÃ¶re ayrÄ±calÄ±klarÄ±n</div>
          <ul id="user-perks" class="hint" style="list-style:disc;padding-left:18px;"></ul>
        </div>
      </section>

      <!-- YÃ–NETÄ°CÄ° PANELÄ° -->
      <section id="screen-admin" class="screen">
        <div class="card" style="margin-bottom:10px;">
          <div class="section-title">YÃ¶netici Paneli</div>
          <div class="section-sub">
            Burada Ã¼yeleri, reklam isteklerini, mesajlarÄ± ve paketleri yÃ¶netebilirsin.
            Normal kullanÄ±cÄ±lar bu paneli hiÃ§ gÃ¶rmez.
          </div>
        </div>
        <div class="columns-2">
          <div>
            <div class="card" style="margin-bottom:10px;">
              <div class="section-title">Ãœyeler</div>
              <div class="section-sub">
                Paket almayanlarÄ±n ismi temaya gÃ¶re beyaz/siyah; paket alanlar renkli rozet ile gÃ¶rÃ¼nÃ¼r.
              </div>
              <div id="admin-users" class="list"></div>
            </div>
            <div class="card">
              <div class="section-title">Mesajlar / Asistan Sohbetleri</div>
              <div class="section-sub">
                Yapay zekÃ¢yla yapÄ±lan konuÅŸmalarÄ±n Ã¶zeti burada listelenir.
              </div>
              <div id="admin-messages" class="list"></div>
              <div class="form-actions">
                <button class="btn-sm danger" id="btn-clear-messages">GeÃ§miÅŸi Sil</button>
              </div>
            </div>
          </div>
          <div>
            <div class="card" style="margin-bottom:10px;">
              <div class="section-title">Reklam Ä°stekleri</div>
              <div class="section-sub">
                KullanÄ±cÄ±larÄ±n gÃ¶nderdiÄŸi istekleri onayla / reddet. Bir kez onaylanan tekrar reddedilmez.
              </div>
              <div id="admin-requests" class="list"></div>
              <div class="form-actions">
                <button class="btn-sm danger" id="btn-clear-requests">TÃ¼m GeÃ§miÅŸi Sil</button>
              </div>
            </div>
            <div class="card">
              <div class="section-title">Paketler ve Abonelikler</div>
              <div class="section-sub">
                Fiyatlar TL Ã¼zerinden girilir; kullanÄ±cÄ± tarafÄ±nda dolar / euro karÅŸÄ±lÄ±ÄŸÄ± bilgi olarak gÃ¶sterilir.
              </div>
              <div id="admin-pricing" class="pricing-grid"></div>
              <div class="form-grid" style="margin-top:8px;">
                <div>
                  <label for="new-plan-name">Yeni Paket AdÄ±</label>
                  <input id="new-plan-name" placeholder="Spark Pro Plus" />
                </div>
                <div>
                  <label for="new-plan-type">TÃ¼r</label>
                  <select id="new-plan-type">
                    <option value="subscription">Abonelik</option>
                    <option value="credits">Kredi Paketi</option>
                  </select>
                </div>
                <div>
                  <label for="new-plan-price">Fiyat (TL)</label>
                  <input id="new-plan-price" type="number" min="0" value="1450" />
                </div>
                <div>
                  <label for="new-plan-perks">KÄ±sa Not</label>
                  <input id="new-plan-perks" placeholder="AyrÄ±calÄ±k Ã¶zetini yaz" />
                </div>
              </div>
              <div class="form-actions">
                <button class="btn-sm primary" id="btn-add-plan">Paket Ekle</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- PROFÄ°L -->
      <section id="screen-profile" class="screen">
        <div class="card" id="profile-card">
          <div class="profile-row">
            <div class="avatar-circle" id="profile-avatar">SA</div>
            <div>
              <div class="section-title" id="profile-name">KullanÄ±cÄ±</div>
              <div class="section-sub" id="profile-email">mail@ornek.com</div>
              <span class="tag standard" id="profile-plan">Starter Ãœye</span>
            </div>
          </div>
          <div class="columns-2">
            <div>
              <div class="section-title">Profilini DÃ¼zenle</div>
              <div class="section-sub">
                GÃ¶rÃ¼nen ismini deÄŸiÅŸtir, asistan sana bu isimle hitap eder.
              </div>
              <div class="form-grid">
                <div>
                  <label for="profile-name-input">Yeni gÃ¶rÃ¼nen ad</label>
                  <input id="profile-name-input" placeholder="Yeni ad..." />
                </div>
              </div>
              <div class="form-actions">
                <button class="btn-sm primary" id="btn-save-profile">Kaydet</button>
              </div>
            </div>
            <div>
              <div class="section-title">Kendi Grubunu Kur (SimÃ¼lasyon)</div>
              <div class="section-sub">
                Ã–rn: â€œMedya Ekibiâ€, sistem kayÄ±tlÄ± kullanÄ±cÄ±lardan sana â€œekip olabilecekâ€ Ã¶rnekler gÃ¶sterir.
              </div>
              <div class="form-grid">
                <div>
                  <label for="group-name-input">Grup AdÄ±</label>
                  <input id="group-name-input" placeholder="IÅŸÄ±kkent Creative Squad" />
                </div>
              </div>
              <div class="form-actions">
                <button class="btn-sm primary" id="btn-create-group">Ã–nerileri GÃ¶ster</button>
              </div>
              <ul id="group-suggestions" class="hint" style="list-style:disc;padding-left:18px;margin-top:8px;"></ul>
            </div>
          </div>
        </div>
      </section>

      <!-- FÄ°YATLANDIRMA (KULLANICI) -->
      <section id="screen-pricing" class="screen">
        <div class="card">
          <div class="section-title">Paketler ve Kredi Paketleri</div>
          <div class="section-sub">
            Bu demo sistemde gerÃ§ek Ã¶deme yok. Butona tÄ±klayÄ±nca paketini deÄŸiÅŸtiriyormuÅŸ gibi davranÄ±r ve
            paneldeki renk / rozetler gÃ¼ncellenir.
          </div>
          <div id="user-pricing" class="pricing-grid"></div>
        </div>
      </section>

      <!-- TOPLULUK -->
      <section id="screen-community" class="screen">
        <div class="card">
          <div class="section-title">Topluluk MesajlarÄ±</div>
          <div class="section-sub">
            Duyuru, fikir veya proje linki paylaÅŸ. MesajlarÄ±n sadece bu tarayÄ±cÄ±da saklanÄ±r (demo).
          </div>
          <div class="form-grid">
            <div>
              <label for="community-text">MesajÄ±n</label>
              <textarea id="community-text" placeholder="BugÃ¼n ÅŸu fikri denedik..."></textarea>
            </div>
          </div>
          <div class="form-actions">
            <button class="btn-sm primary" id="btn-community-post">Mesaj GÃ¶nder</button>
          </div>
          <p class="hint" id="community-hint"></p>
          <div id="community-list" class="list" style="margin-top:8px;"></div>
        </div>
      </section>

      <!-- ASÄ°STAN TAM EKRAN -->
      <section id="screen-assistant" class="screen">
        <div class="card">
          <div class="section-title">Spark AI Asistan (Tam Alan)</div>
          <div class="section-sub">
            AynÄ± asistan, sadece daha geniÅŸ alan. KulÃ¼bÃ¼n, forma satÄ±ÅŸÄ± veya kampanya hakkÄ±nda sorular sor.
          </div>
          <div class="chat-box">
            <div id="chat-log-2" class="chat-log"></div>
            <div class="chat-input-row">
              <input id="assistant-input-2" placeholder="Reklam sorunu buraya yaz..." />
              <button id="assistant-send-2">GÃ¶nder</button>
            </div>
          </div>
        </div>
      </section>

      <!-- AYARLAR -->
      <section id="screen-settings" class="screen">
        <div class="card">
          <div class="section-title">Ayarlar</div>
          <div class="section-sub">
            Tema, abonelik paketine gÃ¶re otomatik olarak altÄ±n / mor / mavi tona geÃ§er. Bu bÃ¶lÃ¼m demo amaÃ§lÄ±dÄ±r.
          </div>
          <p class="hint" id="settings-hint">
            Starter â†’ mavi, Spark Pro â†’ mor, Influencer â†’ gold animasyonlu Ã§erÃ§eve ile gÃ¶rÃ¼nÃ¼r.
          </p>
        </div>
      </section>
    </main>
  </div>

  <script>
    const STORAGE_KEY = "spark_ad_studio_local_db_v2";

    const DEFAULT_DB = {
      users: [],
      requests: [],
      messages: [],
      communityPosts: [],
      plans: [
        {
          id:"starter",
          name:"Starter",
          type:"subscription",
          priceTl:250,
          perks:"AylÄ±k 1â€“2 kÄ±sa video, temel AI, standart hÄ±z",
          color:"standard"
        },
        {
          id:"pro",
          name:"Spark Pro",
          type:"subscription",
          priceTl:1100,
          perks:"AylÄ±k 4â€“5 video, morâ€“mavi AI fikirleri, Ã¶ncelikli teslim",
          color:"pro"
        },
        {
          id:"influencer",
          name:"Influencer",
          type:"subscription",
          priceTl:1600,
          perks:"Gold premium gÃ¶rÃ¼nÃ¼m, en detaylÄ± AI ve Ã¶ne Ã§Ä±kan isim rengi",
          color:"influencer"
        },
        {
          id:"credits10",
          name:"10 Kredi Paketi",
          type:"credits",
          priceTl:490,
          perks:"10 reklama kadar brif Ã¼retimi",
          color:"standard"
        },
        {
          id:"credits25",
          name:"25 Kredi Paketi",
          type:"credits",
          priceTl:990,
          perks:"25 reklama kadar brif Ã¼retimi",
          color:"pro"
        }
      ]
    };

    function loadDB(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        if(!raw) return structuredClone(DEFAULT_DB);
        const parsed = JSON.parse(raw);
        return Object.assign(structuredClone(DEFAULT_DB), parsed);
      }catch(e){
        return structuredClone(DEFAULT_DB);
      }
    }

    const DB = loadDB();
    function saveDB(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(DB)); }

    let currentUser = null;

    const screens = {
      info:document.getElementById("screen-info"),
      home:document.getElementById("screen-home"),
      auth:document.getElementById("screen-auth"),
      user:document.getElementById("screen-user"),
      admin:document.getElementById("screen-admin"),
      profile:document.getElementById("screen-profile"),
      pricing:document.getElementById("screen-pricing"),
      community:document.getElementById("screen-community"),
      assistant:document.getElementById("screen-assistant"),
      settings:document.getElementById("screen-settings")
    };

    function showScreen(name){
      for(const key in screens){
        screens[key].classList.remove("active");
      }
      if(screens[name]) screens[name].classList.add("active");
    }

    const btnAuth = document.getElementById("btn-auth");
    const btnLogout = document.getElementById("btn-logout");
    const navInfo = document.getElementById("nav-info");
    const navHome = document.getElementById("nav-home");
    const navStudio = document.getElementById("nav-studio");
    const navCommunity = document.getElementById("nav-community");
    const navAssistant = document.getElementById("nav-assistant");
    const navPricing = document.getElementById("nav-pricing");
    const navProfile = document.getElementById("nav-profile");
    const navSettings = document.getElementById("nav-settings");

    function updateTopbar(){
      if(currentUser){
        btnAuth.style.display="none";
        btnLogout.style.display="inline-flex";
        navStudio.style.display="inline-flex";
        navCommunity.style.display="inline-flex";
        navAssistant.style.display="inline-flex";
        navProfile.style.display="inline-flex";
        navSettings.style.display="inline-flex";
      }else{
        btnAuth.style.display="inline-flex";
        btnLogout.style.display="none";
        navStudio.style.display="none";
        navCommunity.style.display="none";
        navAssistant.style.display="none";
        navProfile.style.display="none";
        navSettings.style.display="none";
      }
    }

    const ADMIN_EMAIL = "admin@sparkad.studio";
    const ADMIN_PASS  = "spark123";

    function findUserByEmail(email){
      return DB.users.find(u => u.email.toLowerCase() === email.toLowerCase());
    }

    function applyPlanTheme(plan){
      const b=document.body;
      b.classList.remove("plan-starter","plan-pro","plan-influencer","plan-admin","plan-free");
      if(plan==="starter") b.classList.add("plan-starter");
      else if(plan==="pro") b.classList.add("plan-pro");
      else if(plan==="influencer") b.classList.add("plan-influencer");
      else if(plan==="admin") b.classList.add("plan-admin");
      else b.classList.add("plan-free");
    }

    // Accent/theme helpers for manual color choices
    function saveAccentChoice(choice){
      try{ localStorage.setItem('sparkad-accent', JSON.stringify(choice)); }catch(e){}
    }
    function loadAccentChoice(){
      try{ return JSON.parse(localStorage.getItem('sparkad-accent')); }catch(e){return null;}
    }
    function hexToSoft(hex){
      try{
        const c = (hex||'#38bdf8').replace('#','');
        const r = parseInt(c.substring(0,2),16);
        const g = parseInt(c.substring(2,4),16);
        const b = parseInt(c.substring(4,6),16);
        return `rgba(${r},${g},${b},0.18)`;
      }catch(e){return 'rgba(56,189,248,0.18)';}
    }
    function applyAccentChoice(choice){
      if(!choice) return;
      if(choice.type==='plan'){
        applyPlanTheme(choice.value);
        // clear custom CSS variables to allow plan classes to control look
        document.documentElement.style.removeProperty('--accent');
        document.documentElement.style.removeProperty('--accent-soft');
      }else if(choice.type==='custom'){
        document.body.classList.remove("plan-starter","plan-pro","plan-influencer","plan-admin","plan-free");
        document.documentElement.style.setProperty('--accent', choice.value);
        document.documentElement.style.setProperty('--accent-soft', hexToSoft(choice.value));
      }
    }

    function initAccentPicker(){
      const btnColors = document.getElementById('btn-colors');
      const colorMenu = document.getElementById('color-menu');
      const swatches = document.querySelectorAll('.swatch');
      const customPicker = document.getElementById('customAccentPicker');

      function closeMenu(){ colorMenu.style.display='none'; btnColors.setAttribute('aria-expanded','false'); }
      function openMenu(){ colorMenu.style.display='block'; btnColors.setAttribute('aria-expanded','true'); }

      if(!btnColors || !colorMenu) return;

      btnColors.addEventListener('click', (e)=>{ e.stopPropagation(); if(colorMenu.style.display==='block') closeMenu(); else openMenu(); });
      document.addEventListener('click',(e)=>{ if(!colorMenu.contains(e.target) && e.target!==btnColors) closeMenu(); });

      swatches.forEach(s=>{
        s.addEventListener('click', ()=>{
          const theme = s.dataset.theme;
          if(theme==='custom-red'){
            const color = '#ef4444';
            applyAccentChoice({type:'custom',value:color});
            saveAccentChoice({type:'custom',value:color});
            customPicker.value = color;
          } else {
            applyAccentChoice({type:'plan',value:theme});
            saveAccentChoice({type:'plan',value:theme});
          }
          closeMenu();
        });
      });

      customPicker.addEventListener('input',(e)=>{
        const c = e.target.value;
        applyAccentChoice({type:'custom',value:c});
        saveAccentChoice({type:'custom',value:c});
      });

      // apply saved or keep plan-based
      const saved = loadAccentChoice();
      if(saved){
        applyAccentChoice(saved);
        if(saved.type==='custom') customPicker.value = saved.value;
      }
    }

    const TAB_LOGIN = document.getElementById("tab-login");
    const TAB_REGISTER = document.getElementById("tab-register");
    const VIEW_LOGIN = document.getElementById("auth-login");
    const VIEW_REGISTER = document.getElementById("auth-register");
    const authMsg = document.getElementById("auth-message");

    TAB_LOGIN.addEventListener("click",()=>{
      TAB_LOGIN.classList.add("active");
      TAB_REGISTER.classList.remove("active");
      VIEW_LOGIN.style.display="";
      VIEW_REGISTER.style.display="none";
      authMsg.textContent="";
    });
    TAB_REGISTER.addEventListener("click",()=>{
      TAB_REGISTER.classList.add("active");
      TAB_LOGIN.classList.remove("active");
      VIEW_REGISTER.style.display="";
      VIEW_LOGIN.style.display="none";
      authMsg.textContent="";
    });
    document.getElementById("btn-to-login").addEventListener("click",()=>TAB_LOGIN.click());

    const loginEmail = document.getElementById("login-email");
    const loginPass = document.getElementById("login-pass");
    const regName = document.getElementById("reg-name");
    const regEmail = document.getElementById("reg-email");
    const regPass = document.getElementById("reg-pass");
    const btnLogin = document.getElementById("btn-login");
    const btnRegister = document.getElementById("btn-register");

    function registerUser(){
      const name = regName.value.trim();
      const email = regEmail.value.trim();
      const pass = regPass.value.trim();
      if(!name || !email || !pass){
        authMsg.textContent="LÃ¼tfen tÃ¼m alanlarÄ± doldur.";
        return;
      }
      if(pass.length<6){
        authMsg.textContent="Åifre en az 6 karakter olmalÄ±.";
        return;
      }
      if(findUserByEmail(email)){
        authMsg.textContent="Bu e-posta ile bir hesap zaten var.";
        return;
      }
      DB.users.push({
        id:"u_"+Date.now(),
        name,
        email,
        pass,
        plan:"starter",
        credits:0
      });
      saveDB();
      authMsg.textContent="KayÄ±t baÅŸarÄ±lÄ±, giriÅŸ yapÄ±lÄ±yor...";
      loginEmail.value=email;
      loginPass.value=pass;
      setTimeout(()=>loginUser(),300);
    }

    function loginUser(){
      const email = loginEmail.value.trim();
      const pass = loginPass.value.trim();
      if(!email || !pass){
        authMsg.textContent="E-posta ve ÅŸifreyi gir.";
        return;
      }
      if(email===ADMIN_EMAIL && pass===ADMIN_PASS){
        currentUser={name:"YÃ¶netici",email:ADMIN_EMAIL,plan:"admin"};
        authMsg.textContent="YÃ¶netici olarak giriÅŸ yapÄ±ldÄ±.";
        updateTopbar();
        applyPlanTheme("admin");
        renderAdmin();
        showScreen("admin");
        return;
      }
      const u = findUserByEmail(email);
      if(!u || u.pass!==pass){
        authMsg.textContent="E-posta veya ÅŸifre hatalÄ±.";
        return;
      }
      currentUser={name:u.name,email:u.email,plan:u.plan||"starter"};
      updateTopbar();
      applyPlanTheme(currentUser.plan);
      renderUserDashboard();
      renderHome();
      showScreen("home");
    }

    btnRegister.addEventListener("click",registerUser);
    btnLogin.addEventListener("click",loginUser);

    document.getElementById("btn-forgot").addEventListener("click",()=>{
      authMsg.textContent="Bu demo sÃ¼rÃ¼mde gerÃ§ek ÅŸifre sÄ±fÄ±rlama yok, istersen yeni hesap aÃ§abilirsin.";
    });

    const homeTitle = document.getElementById("home-title");
    const homeSub = document.getElementById("home-sub");
    const homeSummary = document.getElementById("home-summary");

    function getPlanMeta(planId){
      if(planId==="admin"){
        return {label:"YÃ¶netici",color:"admin",perks:["Her ÅŸeye eriÅŸim"]};
      }
      const p = DB.plans.find(pl=>pl.id===planId);
      if(!p){
        return {label:"Starter Ãœye",color:"standard",perks:["Temel haklar"]};
      }
      let label = p.name+" Ãœyesi";
      if(p.id==="influencer") label="Influencer MÃ¼ÅŸterisi ğŸ‘‘";
      const perks = [];
      if(p.id==="starter"){
        perks.push("AylÄ±k 1â€“2 kÄ±sa reklam brifi","Temel yapay zekÃ¢ Ã¶nerileri","Standart hÄ±z");
      }else if(p.id==="pro"){
        perks.push("AylÄ±k 4â€“5 brif","Morâ€“mavi neon AI fikirleri","Panelde mor rozet");
      }else if(p.id==="influencer"){
        perks.push("Gold animasyonlu profil kartÄ±","En detaylÄ± AI kampanya fikirleri","Ä°sim altÄ±n tonlarÄ±yla Ã¶ne Ã§Ä±kar");
      }else{
        perks.push(p.perks);
      }
      return {label,color:p.color||"standard",perks};
    }

    function renderHome(){
      if(!currentUser){
        homeTitle.textContent="Spark Ad Studio";
        homeSub.textContent="GiriÅŸ yaptÄ±ktan sonra Ã¶zet burada gÃ¶rÃ¼necek.";
        homeSummary.innerHTML="";
        return;
      }
      const meta = getPlanMeta(currentUser.plan);
      homeTitle.textContent="Merhaba, "+currentUser.name;
      homeSub.textContent="Åu an "+meta.label+" olarak giriÅŸ yaptÄ±n.";
      homeSummary.innerHTML="";
      const myReqs = DB.requests.filter(r=>r.userEmail===currentUser.email);
      const approved = myReqs.filter(r=>r.status==="approved").length;
      const pending = myReqs.filter(r=>r.status==="pending").length;
      const li1=document.createElement("li");
      li1.textContent="Toplam reklam isteÄŸin: "+myReqs.length;
      const li2=document.createElement("li");
      li2.textContent="Onaylanan istek sayÄ±n: "+approved;
      const li3=document.createElement("li");
      li3.textContent="Bekleyen istek sayÄ±n: "+pending;
      homeSummary.appendChild(li1);
      homeSummary.appendChild(li2);
      homeSummary.appendChild(li3);
    }

    const userWelcome = document.getElementById("user-welcome");
    const userPlanBadge = document.getElementById("user-plan-badge");
    const userPerksList = document.getElementById("user-perks");

    function renderUserDashboard(){
      if(!currentUser) return;
      const meta = getPlanMeta(currentUser.plan);
      userWelcome.textContent="HoÅŸ geldin, "+currentUser.name+"!";
      userPlanBadge.textContent=meta.label;
      userPlanBadge.className="tag "+(meta.color||"standard");
      userPerksList.innerHTML="";
      meta.perks.forEach(p=>{
        const li=document.createElement("li");
        li.textContent=p;
        userPerksList.appendChild(li);
      });
      renderProfile();
    }

    const reqBrand = document.getElementById("req-brand");
    const reqProduct = document.getElementById("req-product");
    const reqDetails = document.getElementById("req-details");
    const reqHint = document.getElementById("req-hint");
    document.getElementById("btn-send-request").addEventListener("click",()=>{
      if(!currentUser){
        reqHint.textContent="Ã–nce giriÅŸ yapmalÄ±sÄ±n.";
        showScreen("auth");
        return;
      }
      const brand=reqBrand.value.trim();
      const prod=reqProduct.value.trim();
      const det=reqDetails.value.trim();
      if(!brand||!prod||!det){
        reqHint.textContent="LÃ¼tfen tÃ¼m alanlarÄ± doldur.";
        return;
      }
      DB.requests.unshift({
        id:"r_"+Date.now(),
        userEmail:currentUser.email,
        userName:currentUser.name,
        brand,product:prod,details:det,
        status:"pending",
        createdAt:new Date().toISOString()
      });
      saveDB();
      reqHint.textContent="Ä°stek gÃ¶nderildi, yÃ¶netici paneline dÃ¼ÅŸtÃ¼.";
      reqBrand.value="";
      reqProduct.value="";
      reqDetails.value="";
      renderAdminRequests();
      renderHome();
    });

    const chatLog = document.getElementById("chat-log");
    const assistantInput = document.getElementById("assistant-input");
    const assistantSend = document.getElementById("assistant-send");
    const chatLog2 = document.getElementById("chat-log-2");
    const assistantInput2 = document.getElementById("assistant-input-2");
    const assistantSend2 = document.getElementById("assistant-send-2");

    function pushChat(where,who,text){
      const log = where==="main"?chatLog:chatLog2;
      const line=document.createElement("div");
      line.className="chat-line "+who;
      const bubble=document.createElement("div");
      bubble.className="chat-bubble";
      const meta=document.createElement("div");
      meta.className="chat-meta";
      meta.textContent = who==="me" ? (currentUser?.name||"Sen") : "Spark AI";
      const body=document.createElement("div");
      body.textContent=text;
      bubble.appendChild(meta);
      bubble.appendChild(body);
      line.appendChild(bubble);
      log.appendChild(line);
      log.scrollTop=log.scrollHeight;
    }

    function genAiAnswer(prompt) {
      const lower = prompt.toLowerCase();
      let base = "Reklam fikrini daha netleÅŸtirebilmen iÃ§in sana kÄ±sa bir Ã¶neri veriyorum. ";
      let idea =
        "15 saniyelik dikey bir video dÃ¼ÅŸÃ¼n: aÃ§Ä±lÄ±ÅŸta gÃ¼Ã§lÃ¼ bir gÃ¶rsel, ortada kulÃ¼bÃ¼n duygusunu gÃ¶steren kÄ±sa bir an, sonda da net bir Ã§aÄŸrÄ± ('Bize katÄ±l', 'Åimdi baÅŸvur' gibi).";

      if(lower.includes("okÃ§uluk")){
        idea =
          "Ã–nce hedefe doÄŸru uÃ§an oku gÃ¶ster, ardÄ±ndan tam isabet anÄ±nda hafif slow motion kullan. ÃœstÃ¼ne kÄ±sa bir slogan yaz: 'Hedefini sÃ¶yle, gerisini biz halledelim.' Son karede kulÃ¼bÃ¼n logosu ve iletiÅŸim bilgisi Ã§Ä±ksÄ±n.";
      }else if(lower.includes("forma")){
        idea =
          "Eski formadan yeni formaya geÃ§iÅŸ efekti kullan. Bir sporcu eski formayla kadraja girsin, dÃ¶nÃ¼ÅŸ hareketiyle yeni formaya geÃ§sin. AltÄ±nda 'Yeni sezon, yeni hedefler' yazsÄ±n ve fiyat + satÄ±ÅŸ noktasÄ± kÄ±saca gÃ¶rÃ¼nsÃ¼n.";
      }else if(lower.includes("turnuva") || lower.includes("yarÄ±ÅŸma")){
        idea =
          "Turnuva gÃ¼nÃ¼ iÃ§in kÄ±sa bir recap: 3â€“4 hÄ±zlÄ± kesit (Ä±sÄ±nma, atÄ±ÅŸ, sevinÃ§, alkÄ±ÅŸ). Ãœst yazÄ±da tarih ve isim olsun. Videonun sonunda 'Gelecek turnuvada sen de var mÄ±sÄ±n?' mesajÄ± gelsin.";
      }

      const meta = currentUser ? getPlanMeta(currentUser.plan) : null;
      let level = "Temel seviyede, kÄ±sa ama uygulanabilir bir Ã¶neri sunuyorum.";
      if(meta){
        if(meta.color==="pro"){
          level="Pro seviyede, biraz daha detaylÄ± ve odaklÄ± bir Ã¶neri sunuyorum.";
        }else if(meta.color==="influencer"){
          level="Influencer seviyesinde olduÄŸun iÃ§in daha stratejik ve kampanya odaklÄ± bir Ã¶neri sunuyorum.";
        }
      }
      return base+level+" Ã–nerim: "+idea;
    }

    function handleAssistant(where){
      const input = where==="main"?assistantInput:assistantInput2;
      const text = input.value.trim();
      if(!text) return;
      pushChat(where,"me",text);
      input.value="";
      const ans = genAiAnswer(text);
      setTimeout(()=>{
        pushChat(where,"ai",ans);
        DB.messages.push({
          id:"m_"+Date.now(),
          fromEmail:currentUser?currentUser.email:"misafir",
          text,
          answer:ans,
          createdAt:new Date().toISOString()
        });
        saveDB();
        renderAdminMessages();
      },200);
    }

    assistantSend.addEventListener("click",()=>handleAssistant("main"));
    assistantInput.addEventListener("keydown",e=>{
      if(e.key==="Enter"){e.preventDefault();handleAssistant("main");}
    });
    assistantSend2.addEventListener("click",()=>handleAssistant("full"));
    assistantInput2.addEventListener("keydown",e=>{
      if(e.key==="Enter"){e.preventDefault();handleAssistant("full");}
    });

    const communityText = document.getElementById("community-text");
    const communityHint = document.getElementById("community-hint");
    const communityList = document.getElementById("community-list");

    function renderCommunity(){
      communityList.innerHTML="";
      if(!DB.communityPosts.length){
        const empty=document.createElement("div");
        empty.className="list-item";
        empty.textContent="HenÃ¼z mesaj yok. Ä°lk mesajÄ± sen atabilirsin ğŸ¯";
        communityList.appendChild(empty);
        return;
      }
      DB.communityPosts.forEach(p=>{
        const item=document.createElement("div");
        item.className="list-item";
        const label=document.createElement("div");
        label.className="label-row";
        const strong=document.createElement("strong");
        strong.textContent=p.userName;
        const pill=document.createElement("span");
        pill.className="pill-small blue";
        pill.textContent=p.userEmail;
        label.appendChild(strong);
        label.appendChild(pill);
        const meta=document.createElement("div");
        meta.className="list-meta";
        meta.textContent=new Date(p.createdAt).toLocaleString("tr-TR");
        const body=document.createElement("div");
        body.style.marginTop="4px";
        body.textContent=p.text;
        item.appendChild(label);
        item.appendChild(meta);
        item.appendChild(body);
        communityList.appendChild(item);
      });
    }

    document.getElementById("btn-community-post").addEventListener("click",()=>{
      if(!currentUser){
        communityHint.textContent="Mesaj gÃ¶ndermek iÃ§in giriÅŸ yapmalÄ±sÄ±n.";
        showScreen("auth");
        return;
      }
      const text=communityText.value.trim();
      if(!text){
        communityHint.textContent="LÃ¼tfen bir ÅŸeyler yaz.";
        return;
      }
      DB.communityPosts.unshift({
        id:"c_"+Date.now(),
        userName:currentUser.name,
        userEmail:currentUser.email,
        text,
        createdAt:new Date().toISOString()
      });
      saveDB();
      communityText.value="";
      communityHint.textContent="MesajÄ±n kaydedildi (demo).";
      renderCommunity();
    });

    const adminUsersEl = document.getElementById("admin-users");
    const adminRequestsEl = document.getElementById("admin-requests");
    const adminMessagesEl = document.getElementById("admin-messages");
    const adminPricingEl = document.getElementById("admin-pricing");

    function renderAdminUsers(){
      adminUsersEl.innerHTML="";
      DB.users.forEach(u=>{
        const meta=getPlanMeta(u.plan||"starter");
        const item=document.createElement("div");
        item.className="list-item";

        const label=document.createElement("div");
        label.className="label-row";
        const strong=document.createElement("strong");
        if(meta.color==="influencer"){
          strong.textContent="ğŸ‘‘ "+u.name;
          strong.style.color="#fbbf24";
        }else if(meta.color==="pro"){
          strong.textContent=u.name;
          strong.style.color="#c4b5fd";
        }else{
          strong.textContent=u.name;
          strong.style.color="#e5e7eb";
        }

        const pill=document.createElement("span");
        if(meta.color==="influencer"){
          pill.className="pill-small gold";
        }else if(meta.color==="pro"){
          pill.className="pill-small green";
        }else{
          pill.className="pill-small blue";
        }
        pill.textContent=meta.label;

        label.appendChild(strong);
        label.appendChild(pill);

        const metaLine=document.createElement("div");
        metaLine.className="list-meta";
        metaLine.textContent=u.email+" â€¢ paket: "+(u.plan||"starter")+
          (u.credits?(" â€¢ krediler: "+u.credits):"");

        item.appendChild(label);
        item.appendChild(metaLine);
        adminUsersEl.appendChild(item);
      });
    }

    function renderAdminRequests(){
      adminRequestsEl.innerHTML="";
      DB.requests.forEach(r=>{
        const item=document.createElement("div");
        item.className="list-item";
        const label=document.createElement("div");
        label.className="label-row";
        const strong=document.createElement("strong");
        strong.textContent=r.brand+" â€“ "+r.product;
        const status=document.createElement("span");
        status.className="pill-small "+(
          r.status==="approved" ? "green" :
          r.status==="rejected" ? "orange" : "gray"
        );
        status.textContent = r.status==="approved"
          ? "OnaylandÄ±"
          : r.status==="rejected"
            ? "Reddedildi"
            : "Bekliyor";
        label.appendChild(strong);
        label.appendChild(status);

        const meta=document.createElement("div");
        meta.className="list-meta";
        meta.textContent=r.userName+" ("+r.userEmail+") â€¢ "+
          new Date(r.createdAt).toLocaleString("tr-TR");
        const body=document.createElement("div");
        body.style.marginTop="4px";
        body.textContent=r.details;

        const actions=document.createElement("div");
        actions.className="admin-actions";

        const okBtn=document.createElement("button");
        okBtn.textContent="Onayla";
        okBtn.addEventListener("click",()=>{
          if(r.status==="rejected") return;
          r.status="approved";
          saveDB();
          renderAdminRequests();
          renderHome();
        });

        const noBtn=document.createElement("button");
        noBtn.textContent="Reddet";
        noBtn.addEventListener("click",()=>{
          if(r.status==="approved") return;
          r.status="rejected";
          saveDB();
          renderAdminRequests();
        });

        actions.appendChild(okBtn);
        actions.appendChild(noBtn);

        item.appendChild(label);
        item.appendChild(meta);
        item.appendChild(body);
        item.appendChild(actions);
        adminRequestsEl.appendChild(item);
      });
    }

    function renderAdminMessages(){
      adminMessagesEl.innerHTML="";
      DB.messages.forEach(m=>{
        const item=document.createElement("div");
        item.className="list-item";
        const label=document.createElement("div");
        label.className="label-row";
        const strong=document.createElement("strong");
        strong.textContent=m.fromEmail;
        const pill=document.createElement("span");
        pill.className="pill-small blue";
        pill.textContent="AI sohbeti";
        label.appendChild(strong);
        label.appendChild(pill);

        const meta=document.createElement("div");
        meta.className="list-meta";
        meta.textContent=new Date(m.createdAt).toLocaleString("tr-TR");

        const q=document.createElement("div");
        q.style.marginTop="3px";
        q.textContent="KullanÄ±cÄ±: "+m.text;
        const a=document.createElement("div");
        a.style.marginTop="2px";
        a.style.fontSize="11px";
        a.style.color="#9ca3af";
        a.textContent="AI: "+m.answer;

        item.appendChild(label);
        item.appendChild(meta);
        item.appendChild(q);
        item.appendChild(a);
        adminMessagesEl.appendChild(item);
      });
    }

    function renderAdminPricing(){
      adminPricingEl.innerHTML="";
      DB.plans.forEach(p=>{
        const card=document.createElement("div");
        card.className="price-card";
        const name=document.createElement("div");
        name.className="price-name";
        name.textContent=p.name;
        const tag=document.createElement("div");
        tag.className="price-tag";
        tag.textContent=p.type==="subscription"?"Abonelik Paketi":"Kredi Paketi";
        const value=document.createElement("div");
        value.className="price-value";
        value.textContent=p.priceTl.toLocaleString("tr-TR")+" TL";
        const note=document.createElement("div");
        note.className="price-note";
        note.textContent=p.perks;
        card.appendChild(name);
        card.appendChild(tag);
        card.appendChild(value);
        card.appendChild(note);
        adminPricingEl.appendChild(card);
      });
    }

    document.getElementById("btn-clear-messages").addEventListener("click",()=>{
      DB.messages=[];
      saveDB();
      renderAdminMessages();
    });
    document.getElementById("btn-clear-requests").addEventListener("click",()=>{
      DB.requests=[];
      saveDB();
      renderAdminRequests();
      renderHome();
    });
    document.getElementById("btn-add-plan").addEventListener("click",()=>{
      const name=document.getElementById("new-plan-name").value.trim();
      const type=document.getElementById("new-plan-type").value;
      const price=Number(document.getElementById("new-plan-price").value||"0");
      const perks=document.getElementById("new-plan-perks").value.trim();
      if(!name||!perks) return;
      DB.plans.push({
        id:"p_"+Date.now(),
        name,
        type,
        priceTl:price,
        perks,
        color:type==="subscription"?"pro":"standard"
      });
      saveDB();
      renderAdminPricing();
      renderUserPricing();
    });

    function renderAdmin(){
      renderAdminUsers();
      renderAdminRequests();
      renderAdminMessages();
      renderAdminPricing();
    }

    const profileAvatar=document.getElementById("profile-avatar");
    const profileName=document.getElementById("profile-name");
    const profileEmail=document.getElementById("profile-email");
    const profilePlan=document.getElementById("profile-plan");
    const profileNameInput=document.getElementById("profile-name-input");
    const groupNameInput=document.getElementById("group-name-input");
    const groupSuggestions=document.getElementById("group-suggestions");
    const profileCard=document.getElementById("profile-card");

    function renderProfile(){
      if(!currentUser) return;
      const meta=getPlanMeta(currentUser.plan);
      profileName.textContent=currentUser.name;
      profileEmail.textContent=currentUser.email;
      profilePlan.textContent=meta.label;
      profilePlan.className="tag "+(meta.color||"standard");

      profileCard.classList.remove("profile-starter","profile-pro","profile-influencer");
      if(currentUser.plan==="starter"){
        profileCard.classList.add("profile-starter");
      }else if(currentUser.plan==="pro"){
        profileCard.classList.add("profile-pro");
      }else if(currentUser.plan==="influencer"){
        profileCard.classList.add("profile-influencer");
      }

      const initials=currentUser.name.split(" ").map(p=>p[0]).join("").slice(0,2).toUpperCase()||"SA";
      profileAvatar.textContent=initials;
    }

    document.getElementById("btn-save-profile").addEventListener("click",()=>{
      if(!currentUser) return;
      const newName=profileNameInput.value.trim();
      if(!newName) return;
      const u=findUserByEmail(currentUser.email);
      if(u) u.name=newName;
      currentUser.name=newName;
      saveDB();
      profileNameInput.value="";
      renderProfile();
      renderUserDashboard();
      renderAdminUsers();
      renderHome();
    });

    document.getElementById("btn-create-group").addEventListener("click",()=>{
      const gName=groupNameInput.value.trim();
      groupSuggestions.innerHTML="";
      if(!gName) return;
      const example=DB.users.slice(0,5);
      if(!example.length){
        const li=document.createElement("li");
        li.textContent="Åu an baÅŸka kayÄ±tlÄ± kullanÄ±cÄ± yok. Yine de grup adÄ± Ã§ok iyi: "+gName;
        groupSuggestions.appendChild(li);
        return;
      }
      example.forEach(u=>{
        const li=document.createElement("li");
        li.textContent=`${gName} ekibi iÃ§in uygun aday: ${u.name} (${u.email})`;
        groupSuggestions.appendChild(li);
      });
    });

    const userPricingEl=document.getElementById("user-pricing");
    function renderUserPricing(){
      userPricingEl.innerHTML="";
      DB.plans.forEach(p=>{
        const card=document.createElement("div");
        card.className="price-card";
        const name=document.createElement("div");
        name.className="price-name";
        name.textContent=p.name;
        const tag=document.createElement("div");
        tag.className="price-tag";
        tag.textContent=p.type==="subscription"?"Abonelik":"Kredi Paketi (Demo)";
        const value=document.createElement("div");
        value.className="price-value";
        value.textContent=p.priceTl.toLocaleString("tr-TR")+" TL";
        const note=document.createElement("div");
        note.className="price-note";
        const usd=(p.priceTl/42.45).toFixed(1);
        const eur=(p.priceTl/49.6).toFixed(1);
        note.textContent=`${p.perks} â€¢ YaklaÅŸÄ±k ${usd} $ / ${eur} â‚¬ (sadece bilgi).`;
        const btn=document.createElement("button");
        btn.className="btn-sm primary";
        btn.textContent=p.type==="subscription"?"Bu pakete geÃ§ (demo)":"Bu krediyi al (demo)";
        btn.addEventListener("click",()=>purchasePlan(p.id));
        card.appendChild(name);
        card.appendChild(tag);
        card.appendChild(value);
        card.appendChild(note);
        card.appendChild(btn);
        userPricingEl.appendChild(card);
      });
    }

    function purchasePlan(planId){
      if(!currentUser){
        alert("Ã–nce giriÅŸ yapmalÄ±sÄ±n.");
        showScreen("auth");
        return;
      }
      const p=DB.plans.find(pl=>pl.id===planId);
      if(!p) return;
      const u=findUserByEmail(currentUser.email);
      if(!u) return;
      if(p.type==="subscription"){
        u.plan=planId;
        currentUser.plan=planId;
        saveDB();
        applyPlanTheme(planId);
        renderUserDashboard();
        renderUserPricing();
        renderAdminUsers();
        alert(p.name+" paketine geÃ§tin (demo).");
      }else{
        const add = p.id==="credits10"?10:p.id==="credits25"?25:5;
        u.credits=(u.credits||0)+add;
        saveDB();
        renderAdminUsers();
        alert(p.name+" demo kredisi eklendi. Toplam kredin: "+u.credits);
      }
    }

    const settingsHint=document.getElementById("settings-hint");

    document.getElementById("btn-info-start").addEventListener("click",()=>showScreen("auth"));
    document.getElementById("btn-info-pricing").addEventListener("click",()=>{
      renderUserPricing();
      showScreen("pricing");
    });
    btnAuth.addEventListener("click",()=>showScreen("auth"));
    btnLogout.addEventListener("click",()=>{
      currentUser=null;
      updateTopbar();
      applyPlanTheme("free");
      showScreen("info");
    });

    navInfo.addEventListener("click",()=>showScreen("info"));
    navHome.addEventListener("click",()=>{
      if(currentUser && currentUser.email===ADMIN_EMAIL){
        renderAdmin();
        showScreen("admin");
      }else if(currentUser){
        renderHome();
        showScreen("home");
      }else{
        showScreen("info");
      }
    });
    navStudio.addEventListener("click",()=>{
      if(currentUser && currentUser.email===ADMIN_EMAIL){
        renderAdmin();
        showScreen("admin");
      }else if(currentUser){
        renderUserDashboard();
        showScreen("user");
      }else{
        showScreen("auth");
      }
    });
    navCommunity.addEventListener("click",()=>{
      renderCommunity();
      showScreen("community");
    });
    navAssistant.addEventListener("click",()=>showScreen("assistant"));
    navPricing.addEventListener("click",()=>{
      renderUserPricing();
      showScreen("pricing");
    });
    navProfile.addEventListener("click",()=>{
      renderProfile();
      showScreen("profile");
    });
    navSettings.addEventListener("click",()=>{
      if(settingsHint){
        settingsHint.textContent="Tema pakete gÃ¶re otomatik: Starter=mavi, Spark Pro=mor, Influencer=gold animasyonlu.";
      }
      showScreen("settings");
    });

    updateTopbar();
    renderUserPricing();
    renderCommunity();
    initAccentPicker();
    applyPlanTheme("free");

    console.log("Spark Ad Studio premium tema sÃ¼rÃ¼mÃ¼ yÃ¼klendi âœ…");
  </script>
</body>
</html>
